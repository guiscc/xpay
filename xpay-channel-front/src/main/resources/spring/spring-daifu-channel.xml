<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd"
       default-autowire="byName">
    <context:property-placeholder location="classpath:config/**/*.properties" ignore-unresolvable="true"/>
    <context:annotation-config/>

    <!--通信Handler-->
    <bean id="httpChannelHandler" class="com.xpay.channel.front.tongxin.impl.HttpChannelHandler"/>
    <bean id="socketChannelHandler" class="com.xpay.channel.front.tongxin.impl.SocketChannelHandler"/>
    <bean id="https1ChannelHandler" class="com.xpay.channel.front.tongxin.impl.Https1ChannelHandler"/>
    <bean id="https2ChannelHandler" class="com.xpay.channel.front.tongxin.impl.Https2ChannelHandler"/>

    <!--系统交易类型枚举定义-->
    <bean id="AUTH" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.AUTH"></property>
	</bean>
    <bean id="PAY" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
        <property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.PAY"></property>
    </bean>
    <bean id="PAYQUERY" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
        <property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.PAYQUERY"></property>
    </bean>
    <bean id="REFUND" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
        <property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.REFUND"></property>
    </bean>
    <bean id="CANCEL" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
        <property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.CANCEL"></property>
    </bean>

    <!--配置文件基类bean-->
    <bean name="channelConfig" class="com.xpay.channel.front.utils.ChannelConfig">
        <property name="charset" value="${channel.charset}"/>
        <property name="connTimeOut" value="${channel.connTimeout}"/>
        <property name="readTimeOut" value="${channel.readTimeout}"/>
    </bean>

    <!--接口映射工厂-->
    <bean id="daifuChannelMappingFactory" class="com.xpay.channel.front.mapping.DaifuChannelMappingFactory">
        <property name="mappingMap">
            <map key-type="java.lang.String"
                 value-type="com.xpay.channel.front.facade.AgentCollectChannelFacade">
                <entry key="AC_UNIONPAY_CD_01" value-ref="unionpay"/>
            </map>
        </property>
    </bean>

    <import resource="daikou/spring-daifu-unionpay.xml"/>
</beans>
