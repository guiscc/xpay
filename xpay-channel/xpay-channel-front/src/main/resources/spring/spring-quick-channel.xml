<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd"
       default-autowire="byName">
    <context:property-placeholder location="classpath:config/**/*.properties" ignore-unresolvable="true"/>
    <context:annotation-config/>

    <!--通信Handler-->
    <bean id="httpChannelHandler" class="com.xpay.channel.front.tongxin.impl.HttpChannelHandler"/>
    <bean id="socketChannelHandler" class="com.xpay.channel.front.tongxin.impl.SocketChannelHandler"/>
    <bean id="https1ChannelHandler" class="com.xpay.channel.front.tongxin.impl.Https1ChannelHandler"/>
    <bean id="https2ChannelHandler" class="com.xpay.channel.front.tongxin.impl.Https2ChannelHandler"/>

    <!--系统交易类型枚举定义-->
    <bean id="SIGN" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.SIGN"></property>
	</bean>
	<bean id="SIGNCONFIRM" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.SIGNCONFIRM"></property>
	</bean>
	<bean id="BREAKSIGN" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.BREAKSIGN"></property>
	</bean>
	<bean id="PAY" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.PAY"></property>
	</bean>
	<bean id="PAYQUERY" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.PAYQUERY"></property>
	</bean>
	<bean id="PAYCALLBACK" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.PAYCALLBACK"></property>
	</bean>
	<bean id="REFUND" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.REFUND"></property>
	</bean>
	<bean id="REFUNDQUERY" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.REFUNDQUERY"></property>
	</bean>
	<bean id="REFUNDCALLBACK" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.REFUNDCALLBACK"></property>
	</bean>
	<bean id="CHECKFILE" class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean">
		<property name="staticField" value="com.xpay.channel.common.enums.EnumTradeType.CHECKFILE"></property>
	</bean>

    <!--配置文件基类bean-->
    <bean name="channelConfig" class="com.xpay.channel.front.utils.ChannelConfig">
        <property name="charset" value="${channel.charset}"/>
        <property name="connTimeOut" value="${channel.connTimeout}"/>
        <property name="readTimeOut" value="${channel.readTimeout}"/>
    </bean>

    <!--接口映射工厂-->
    <bean id="quickChannelMappingFactory" class="com.xpay.channel.front.mapping.QuickChannelMappingFactory">
        <property name="mappingMap">
            <map key-type="java.lang.String"
                 value-type="com.xpay.channel.front.facade.QuickPayChannelFacade">
                <entry key="QP_BILLPAY_CD_01" value-ref="billpay"/>
            </map>
        </property>
    </bean>

    <import resource="quick/spring-quick-billpay.xml"/>
</beans>
